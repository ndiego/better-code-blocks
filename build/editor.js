(()=>{"use strict";const e=window.React,t=window.wp.components,l=window.wp.blockEditor,a=window.wp.hooks,o=window.wp.blocks,n=window.wp.i18n,r=[{label:(0,n.__)("Plain text","better-code-blocks"),value:"nohighlight"},{label:"CSS",value:"css"},{label:"HTML",value:"html"},{label:"JavaScript",value:"javascript"},{label:"JSON",value:"json"},{label:"Markdown",value:"markdown"},{label:"PHP",value:"php"},{label:"SCSS",value:"scss"},{label:"Shell/Bash",value:"shell"},{label:"SQL",value:"sql"},{label:"TypeScript",value:"typescript"},{label:"YAML",value:"yaml"}],i=a=>{const{attributes:i,setAttributes:c,onRemove:s,insertBlocksAfter:b,mergeBlocks:u}=a,{language:g,title:h,hasCopy:m,hasLineNumbers:_,hasMaxHeight:d,maxHeight:p}=i,k=(0,l.useBlockProps)();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(t.PanelBody,{title:(0,n.__)("Settings","better-code-blocks"),initialOpen:!0},(0,e.createElement)(t.SelectControl,{label:(0,n.__)("Language","better-code-blocks"),value:g,options:r,onChange:e=>c({language:e}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,e.createElement)(t.TextControl,{label:(0,n.__)("Title","better-code-blocks"),value:h,onChange:e=>c({title:e}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,e.createElement)(t.ToggleControl,{label:(0,n.__)("Show copy button","better-code-blocks"),checked:m,onChange:e=>c({hasCopy:e}),__nextHasNoMarginBottom:!0}),(0,e.createElement)(t.ToggleControl,{label:(0,n.__)("Show line numbers","better-code-blocks"),checked:_,onChange:e=>c({hasLineNumbers:e}),__nextHasNoMarginBottom:!0}),(0,e.createElement)(t.ToggleControl,{label:(0,n.__)("Limit height","better-code-blocks"),checked:d,onChange:e=>c({hasMaxHeight:e}),__nextHasNoMarginBottom:!0}),d&&(0,e.createElement)(t.TextControl,{type:"number",label:(0,n.__)("Maximum height (px)","better-code-blocks"),value:p,onChange:e=>c({maxHeight:parseInt(e,10)}),min:100,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}))),(0,e.createElement)("pre",{...k},(0,e.createElement)(l.RichText,{tagName:"code",identifier:"content",value:i.content,onChange:e=>c({content:e}),onRemove:s,onMerge:u,placeholder:(0,n.__)("Write codeâ€¦","better-code-blocks"),"aria-label":(0,n.__)("Code","better-code-blocks"),preserveWhiteSpace:!0,withoutInteractiveFormatting:!0,allowedFormats:[],__unstablePastePlainText:!0,__unstableOnSplitAtDoubleLineEnd:()=>b((0,o.createBlock)((0,o.getDefaultBlockName)()))})))};(0,a.addFilter)("blocks.registerBlockType","bcb/code-attributes",(e=>"core/code"!==e.name?e:{...e,attributes:{...e.attributes,language:{type:"string",default:"nohighlight"},title:{type:"string",default:""},hasCopy:{type:"boolean",default:!0},hasLineNumbers:{type:"boolean",default:!0},hasMaxHeight:{type:"boolean",default:!1},maxHeight:{type:"number",default:400}},edit:i}))})();